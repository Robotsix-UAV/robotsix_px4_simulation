{
    "name": "RobotSix PX4 Simulation",
    "build": {
        "dockerfile": "../docker/Dockerfile",
        "context": "../docker",
        "args": {
            "BASE_IMAGE": "robotsix/px4-sim-base:humble-harmonic-px4-1.14.4_arrc"
        }
    },
    // Configure environment variables
    "containerEnv": {
        "DISPLAY": "${localEnv:DISPLAY}"
    },
    // Mount the workspace directory
    "workspaceFolder": "/root/ros2_ws/src/robotsix_px4_simulation",
    "workspaceMount": "source=${localWorkspaceFolder},target=/root/ros2_ws/src/robotsix_px4_simulation,type=bind",
    // Mount X11 socket for GUI support
    "mounts": [
        "source=/tmp/.X11-unix,target=/tmp/.X11-unix,type=bind",
        "source=${localEnv:HOME}/.Xauthority,target=/root/.Xauthority,type=bind,consistency=cached"
    ],
    // Run arguments
    "runArgs": [
        "--network=host"
    ],
    // Features to add (VS Code extensions and tools)
    "customizations": {
        "vscode": {
            "extensions": [],
            "settings": {
                "terminal.integrated.shell.linux": "/bin/bash",
                "python.defaultInterpreterPath": "/root/python-venv/bin/python",
            }
        }
    },
    // Post-create command to source ROS setup
    "postCreateCommand": "echo 'source /opt/ros/${ROS_DISTRO}/setup.bash' >> ~/.bashrc && echo 'source /root/python-venv/bin/activate' >> ~/.bashrc",
    // Keep container running
    "remoteUser": "root"
}